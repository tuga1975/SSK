
<!--<div style="display:block; padding:10px;">
    <span style=" font-size:22px; float:left; text-align:left;"><b>Blocked</b></span>
    <div class="d-inline" style="right:10px; float:right; display:inline;">
        <select class="form-control" id="pageSize" style="width:70px; display:inline;">
            <option>10</option>
            <option>2</option>
            <option>3</option>
        </select>
        <span style="display:inline;">entries</span>

        <input type="text" class="form-control" style="width:180px; display:inline;" id="textSearch" />
        <button type="button" class="btn btn-primary">Search</button>
    </div>
</div>
<br />-->

<!--<div style="display:block; padding:10px;">
    <span style=" font-size:22px; float:left; text-align:left;"><b>Blocked</b></span>
    <div class="form-inline" style="position: absolute; right: 200px; top: 30px">
        <select class="form-control" id="pageSize" style="width:70px; display:inline-block;">
            <option>10</option>
            <option>2</option>
            <option>3</option>
        </select>
        <div style="display:inline-block;">Entries</div>
    </div>
</div>

<table id="table"></table>-->
<div class="table-wrapper formWrapper">
    <div class="tab-header">
        <span class="formHeader"><b>Blocked</b></span>
    </div>
    <div class="tab-content">
        <div class="form-inline formEntries float-right">
            <div class="entries">Display </div>
            <select class="form-control" id="pageSize">
                <option>10</option>
                <option>25</option>
                <option>50</option>
                <option>100</option>
            </select>
            <div class="entries"> entries per page</div>
        </div>
        <table id="table"></table>
    </div>
</div>
<script type="text/javascript">
    activemenu('Blocked');
    $("#menu .menu-item").removeClass("active");
    $("#menu [item-menu].active").parent().addClass("active");
    
    var pageSize = $('#pageSize').length > 0 ? 10 : 0;

    api.server.GetAllSuperviseesBlocked(function (data) {
        dataSource = data;
        $('#table').bootstrapTable({
            pagination: true,
            pageSize: 10,
            pageList: [10, 25, 50, 100],
            search: true,
            columns: [{
                field: 'NRIC',
                title: 'NRIC',
                sortable: true,
                width: '10%',
                align: 'center'
            }, {
                field: 'Name',
                title: 'Name',
                sortable: true,
                width: '40%',
                align: 'center'
            }, {
                field: 'Note',
                title: 'Reason',
                width: '40%',
                align: 'center'
            }, {
                field: 'Action',
                title: 'Action',
                width: '10%',
                align: 'center',
                formatter: function (value, row, index, field) {
                    return '<button class="btn btn-info " onclick = "openPopup(\'' + row.UserId + '\');">Unblock</button> ';
                }
            }],
            data: dataSource
        });
    });

    $('#pageSize').change(function () {
        pageSize = $("#pageSize option:selected").text();
        $('#table').bootstrapTable('refreshOptions', {
            pagination: true,
            search: true,
            pageSize: pageSize
        });
    });

    var dataSource = [];

    function openPopup(userId) {
        api.server.LoadPopupBlock(userId, function () {
            $('#idBlock').modal();
        });
    };    
    
</script>