<div class="modal fade" role="dialog" id="idAddHoliday">
    <div class="modal-dialog" style="width:600px;">
        <div class="modal-content" style="width:600px;">
            <div class="modal-header">
                <h5 class="modal-title">Add Non-Operational Days</h5>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <div class="form-inline" style="margin-bottom:10px;">
                        <span style="display:inline-block;width:150px;height:33px; padding-top:3px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Date</span>
                        <select class="form-control" style="width:70px; margin-left:10px;" id="day"><option>15</option></select> -
                        <select class="form-control" style="width:70px; margin-left:10px;" id="month"><option>01</option><option>02</option><option>03</option></select> -
                        <select class="form-control" style="width:95px; margin-left:10px;" id="year"><option>2018</option></select>
                    </div>
                    <div class="form-inline" style="margin-bottom:10px;">
                        <span class="control-label" style="display:inline-block;width:150px;height:33px; padding-top:5px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Short Description</span>
                        <input type="text" class="form-control" style="width:400px; margin-left:10px;" id="description" />
                    </div>
                    <div style="margin-bottom:10px;">
                        <span class="control-label" style="display:inline-block;width:150px;height:33px; padding-top:5px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Notes</span>
                        <textarea class="form-control" style="width:555px; margin-top:10px;" rows="3" id="note"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id="AddBtn">Add</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var lstDays = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"];
    var lstMonths = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];
    var lstYears = ["2018", '2019', '2020', '2021', '2022', '2023', '2024', '2025', '2026', '2027', '2028', '2029', '2030'];

    $('#day').empty();
    $('#month').empty();
    $('#year').empty();

    $.each(lstDays, function (i, p) {
        $('#day').append($('<option></option>').val(p).html(p));
    });

    $.each(lstMonths, function (i, p) {
        $('#month').append($('<option></option>').val(p).html(p));
    });

    $.each(lstYears, function (i, p) {
        $('#year').append($('<option></option>').val(p).html(p));
    });

    $("#AddBtn").click(function (e) {
        var date = new Date($('#year').val(), $('#month').val() - 1, $('#day').val());
        var description = $('#description').val();
        var note = $('#note').val();
        var checkExist = false;
        model.HoliDays.forEach(function (element, index) {
            if (Date.parse(element.Holiday1) == Date.parse(date)) {
                checkExist = true;
                alert('Date is duplicate!');
                return;
            }
        });

        if (!checkExist) {
            date.setHours(date.getHours() - date.getTimezoneOffset() / 60);
            model.HoliDays.push({
                Holiday1: date,
                ShortDesc: description,
                Notes: note
            });

            var holiday = { Holiday1: date, ShortDesc: description, Notes: note };
            var data = JSON.stringify(holiday);
            api.server.AddHoliday(data, function () {
                api.server.LoadPage('Settings.html');
                $('#idAddHoliday').modal('toggle');
            });
        }
        e.preventDefault();
    });
</script>