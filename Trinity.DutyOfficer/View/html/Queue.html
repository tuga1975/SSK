<div style="display:block; padding:10px;">
    <span style=" font-size:22px; float:left; text-align:left;"><b>Queue</b></span>
    <span style=" font-size:20px; float:left; text-align:left; margin-left:12px;" current-date></span>
    <div class="form-inline" style="position: absolute; right: 200px; top: 30px">
        <select class="form-control" id="pageSize" style="width:70px; display:inline-block;">
            <option>10</option>
            <option>2</option>
            <option>3</option>
        </select>
        <div style="display:inline-block;">Entries</div>
    </div>
</div>

<table id="table-queue"></table>
<script type="text/javascript">
    $('#menu').show();
    activemenu('Queue');
    var today = new Date();
    var dd = today.getDate();
    var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var mm = monthNames[today.getMonth()];
    var yyyy = today.getFullYear();
    if (dd < 10) {
        dd = '0' + dd;
    }
    var today = dd + ' ' + mm + ' ' + yyyy;
    $('[current-date]').text(today);
    api.server.getDataQueue(function (data) {
        $('#table-queue').bootstrapTable({
            search: true,
            pagination: true,
            pageSize:10,
            pageList: [10, 20, 40, 60,80,100],
            onClickCell: function (field, value, row, $element) {
                if (field == "HSA" && $.trim(value).length > 0) {
                    api.server.LoadDrugsTest(row.Date, row.UserId, function () {
                        $('#idQueueDrugs').modal();
                    });
                }
            },
            onDblClickCell: function (field, value, row, $element) {
                if (field == 'Message') {
                    api.server.LoadPopupQueue(row.Queue_ID, function () {
                        $('#idQueue').modal();
                    });
                }
            },
            columns: [
                {
                    field: 'SN',
                    title: 'S/N',
                    align: 'center',
                    formatter: function (value, row, index) {
                        return index + 1;
                    }
                },
                {
                    field: 'NRIC',
                    title: 'NRIC',
                    align: 'center',
                    sortable: true
                },
                {
                    field: 'Name',
                    title: 'Name',
                    align: 'center',
                    sortable: true
                },
                {
                    field: 'APS',
                    title: 'APS',
                    align: 'center',
                    formatter: function (value, row, index, field) {
                        return '<span color style="background-color:' + value + ';"></span>';
                    }
                },
                {
                    field: 'SSK',
                    title: 'SSK',
                    align: 'center',
                    formatter: function (value, row, index, field) {
                        return '<span color style="background-color:' + value + ';"></span>';
                    }
                },
                {
                    field: 'SSA',
                    title: 'SSA',
                    align: 'center',
                    formatter: function (value, row, index, field) {
                        return '<span color style="background-color:' + value + ';"></span>';
                    }
                },
                {
                    field: 'UHP',
                    title: 'UHP',
                    align: 'center',
                    formatter: function (value, row, index, field) {
                        return '<span color style="background-color:' + value + ';"></span>';
                    }
                },
                {
                    field: 'HSA',
                    title: 'UT',
                    align: 'center', formatter: function (value, row, index, field) {
                        return '<span style="display:inline-block;padding:2px 5px;border:1px solid #CCC;">' + value + '</span>';
                    }
                },
                {
                    field: 'ESP',
                    title: 'ESP',
                    align: 'center',
                    formatter: function (value, row, index, field) {
                        return '<span color="' + value + '" style="background-color:' + value + ';"></span>';
                    }
                },
                {
                    field: 'Outcome',
                    title: 'Outcome',
                    align: 'center'
                },
                {
                    field: 'Message',
                    title: 'Message',
                    align: 'center',
                    formatter: function (value, row, index, field) {
                        return '<span>' + value.content + '</span>';
                    }
                }
            ],
            data: data
        });
    });
</script>
<style>
    span[color] {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: inline-block;
        border: 1px solid #333;
        box-sizing: border-box;
    }

    span[color="notrequired"] {
        background-color: white;
    }

        span[color="notrequired"]::after {
            content: "X";
            line-height: 0px;
            text-align: center;
            font-size: 20px;
            font-weight: normal;
        }
</style>
