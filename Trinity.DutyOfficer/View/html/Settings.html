<div id="panel-settings">
    <div style="width:calc(32% - 10px);display:inline-block;padding:10px;margin:10px;box-sizing:border-box;border:1px solid #CCC;">
        <div style="text-align:center;margin-bottom:10px;">
            <span style="padding:4px 10px;border:1px solid #CCC;">MONDAY</span>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Start Time</span>
            <select id="mon-start-HH"></select> : <select id="mon-start-MM"></select><select id="mon-start-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">End Time</span>
            <select id="mon-end-HH"></select> : <select id="mon-end-MM"></select><select id="mon-end-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Interval</span>
            <select id="mon-interval"></select>
            <span style="display:inline-block;width:50px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">mins</span>
            <input type="checkbox" style="margin-left:10px;" id="mon-Closed">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Closed</span>
        </div>
        <div style="margin-bottom:10px">
            <span style="display:inline-block;width:180px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Maximum Supervisee per timeslot</span>
            <input type="number" style="width:80px;" id="mon-Max">
            <span style="display:inline-block;width:150px;box-sizing:border-box;border:1px solid #CCC;text-align:center;margin-left:20px;">Reserved for space</span>
            <input type="number" style="width:80px;" id="mon-Reserved" />
        </div>
    </div>
    <div style="width:calc(32% - 10px);display:inline-block;padding:10px;margin:10px;box-sizing:border-box;border:1px solid #CCC;">
        <div style="text-align:center;margin-bottom:10px;">
            <span style="padding:4px 10px;border:1px solid #CCC;">TUESDAY</span>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Start Time</span>
            <select id="tue-start-HH"></select> : <select id="tue-start-MM"></select><select id="tue-start-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">End Time</span>
            <select id="tue-end-HH"></select> : <select id="tue-end-MM"></select><select id="tue-end-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Interval</span>
            <select id="tue-interval"></select>
            <span style="display:inline-block;width:50px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">mins</span>
            <input type="checkbox" style="margin-left:10px;" id="tue-Closed">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Closed</span>
        </div>
        <div style="margin-bottom:10px">
            <span style="display:inline-block;width:180px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Maximum Supervisee per timeslot</span>
            <input type="number" style="width:80px;" id="tue-Max">
            <span style="display:inline-block;width:150px;box-sizing:border-box;border:1px solid #CCC;text-align:center;margin-left:20px;">Reserved for space</span>
            <input type="number" style="width:80px;" id="tue-Reserved" />
        </div>
    </div>
    <div style="width:calc(32% - 10px);display:inline-block;padding:10px;margin:10px;box-sizing:border-box;border:1px solid #CCC;">
        <div style="text-align:center;margin-bottom:10px;">
            <span style="padding:4px 10px;border:1px solid #CCC;">WEDNESDAY</span>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Start Time</span>
            <select id="wed-start-HH"></select> : <select id="wed-start-MM"></select><select id="wed-start-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">End Time</span>
            <select id="wed-end-HH"></select> : <select id="wed-end-MM"></select><select id="wed-end-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Interval</span>
            <select id="wed-interval"></select>
            <span style="display:inline-block;width:50px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">mins</span>
            <input type="checkbox" style="margin-left:10px;" id="wed-Closed">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Closed</span>
        </div>
        <div style="margin-bottom:10px">
            <span style="display:inline-block;width:180px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Maximum Supervisee per timeslot</span>
            <input type="number" style="width:80px;" id="wed-Max">
            <span style="display:inline-block;width:150px;box-sizing:border-box;border:1px solid #CCC;text-align:center;margin-left:20px;">Reserved for space</span>
            <input type="number" style="width:80px;" id="wed-Reserved" />
        </div>
    </div>
    <div style="width:calc(32% - 10px);display:inline-block;padding:10px;margin:10px;box-sizing:border-box;border:1px solid #CCC;">
        <div style="text-align:center;margin-bottom:10px;">
            <span style="padding:4px 10px;border:1px solid #CCC;">THURSDAY</span>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Start Time</span>
            <select id="thu-start-HH"></select> : <select id="thu-start-MM"></select><select id="thu-start-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">End Time</span>
            <select id="thu-end-HH"></select> : <select id="thu-end-MM"></select><select id="thu-end-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Interval</span>
            <select id="thu-interval"></select>
            <span style="display:inline-block;width:50px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">mins</span>
            <input type="checkbox" style="margin-left:10px;" id="thu-Closed">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Closed</span>
        </div>
        <div style="margin-bottom:10px">
            <span style="display:inline-block;width:180px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Maximum Supervisee per timeslot</span>
            <input type="number" style="width:80px;" id="thu-Max">
            <span style="display:inline-block;width:150px;box-sizing:border-box;border:1px solid #CCC;text-align:center;margin-left:20px;">Reserved for space</span>
            <input type="number" style="width:80px;" id="thu-Reserved" />
        </div>
    </div>
    <div style="width:calc(32% - 10px);display:inline-block;padding:10px;margin:10px;box-sizing:border-box;border:1px solid #CCC;">
        <div style="text-align:center;margin-bottom:10px;">
            <span style="padding:4px 10px;border:1px solid #CCC;">FRIDAY</span>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Start Time</span>
            <select id="fri-start-HH"></select> : <select id="fri-start-MM"></select><select id="fri-start-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">End Time</span>
            <select id="fri-end-HH"></select> : <select id="fri-end-MM"></select><select id="fri-end-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Interval</span>
            <select id="fri-interval"></select>
            <span style="display:inline-block;width:50px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">mins</span>
            <input type="checkbox" style="margin-left:10px;" id="fri-Closed">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Closed</span>
        </div>
        <div style="margin-bottom:10px">
            <span style="display:inline-block;width:180px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Maximum Supervisee per timeslot</span>
            <input type="number" style="width:80px;" id="fri-Max">
            <span style="display:inline-block;width:150px;box-sizing:border-box;border:1px solid #CCC;text-align:center;margin-left:20px;">Reserved for space</span>
            <input type="number" style="width:80px;" id="fri-Reserved" />
        </div>
    </div>
    <div style="width:calc(32% - 10px);display:inline-block;padding:10px;margin:10px;box-sizing:border-box;border:1px solid #CCC;">
        <div style="text-align:center;margin-bottom:10px;">
            <span style="padding:4px 10px;border:1px solid #CCC;">SATURDAY</span>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Start Time</span>
            <select id="sat-start-HH"></select> : <select id="sat-start-MM"></select><select id="sat-start-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">End Time</span>
            <select id="sat-end-HH"></select> : <select id="sat-end-MM"></select><select id="sat-end-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Interval</span>
            <select id="sat-interval"></select>
            <span style="display:inline-block;width:50px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">mins</span>
            <input type="checkbox" style="margin-left:10px;" id="sat-Closed">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Closed</span>
        </div>
        <div style="margin-bottom:10px">
            <span style="display:inline-block;width:180px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Maximum Supervisee per timeslot</span>
            <input type="number" style="width:80px;" id="sat-Max">
            <span style="display:inline-block;width:150px;box-sizing:border-box;border:1px solid #CCC;text-align:center;margin-left:20px;">Reserved for space</span>
            <input type="number" style="width:80px;" id="sat-Reserved" />
        </div>
    </div>
    <div style="width:calc(32% - 10px);display:inline-block;padding:10px;margin:10px;box-sizing:border-box;border:1px solid #CCC;">
        <div style="text-align:center;margin-bottom:10px;">
            <span style="padding:4px 10px;border:1px solid #CCC;">SUNDAY</span>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Start Time</span>
            <select id="sun-start-HH"></select> : <select id="sun-start-MM"></select><select id="sun-start-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">End Time</span>
            <select id="sun-end-HH"></select> : <select id="sun-end-MM"></select><select id="sun-end-XM"></select>
        </div>
        <div style="margin-bottom:10px;">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Interval</span>
            <select id="sun-interval"></select>
            <span style="display:inline-block;width:50px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">mins</span>
            <input type="checkbox" style="margin-left:10px;" id="sun-Closed">
            <span style="display:inline-block;width:90px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Closed</span>
        </div>
        <div style="margin-bottom:10px">
            <span style="display:inline-block;width:180px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Maximum Supervisee per timeslot</span>
            <input type="number" style="width:80px;" id="sun-Max">
            <span style="display:inline-block;width:150px;box-sizing:border-box;border:1px solid #CCC;text-align:center;margin-left:20px;">Reserved for space</span>
            <input type="number" style="width:80px;" id="sun-Reserved" />
        </div>

    </div>
    <div style="width:calc(100% - 33% - 20px);display:inline-block;padding:10px;box-sizing:border-box;position:relative;vertical-align:top;">
        <div style="text-align:left;margin-bottom:10px;">
            <span style="padding:4px 10px;border:1px solid #CCC;">Public Holiday and Non-Operational Days</span>
        </div>
        <div style="width:calc(100% - 30px);" >
            <table class="display" id="holidayTable">
                <!--<thead>
                    <tr>
                        <th data-field="Holiday1">Date</th>
                        <th data-field="ShortDesc">Short Description</th>
                        <th data-field="Notes">Notes</th>
                    </tr>
                </thead>-->
            </table>
        </div>
        <span class="glyphicon glyphicon-plus" style="position:absolute;top:42px;right:0px;font-size:18px;height:30px;width:30px;text-align:center;line-height:30px;border:1px solid #CCC;cursor:pointer;" onclick="api.server.PopupAddHoliday(function () {$('#idAddHoliday').modal(); });">
        </span>
        <span class="glyphicon glyphicon-minus" style="position:absolute;top:90px;right:0px;font-size:18px;height:30px;width:30px;text-align:center;line-height:30px;border:1px solid #CCC;cursor:pointer;" id="deleteBtn">
        </span>
    </div>
    <div style="margin-top:20px;border-top:1px solid #CCC;padding:10px;position:relative;">
        <!--<span style="display:inline-block;width:200px;box-sizing:border-box;border:1px solid #CCC;text-align:center;">Maximun Supervisee per timeslot</span>
        <input type="number" />

        <span style="display:inline-block;width:150px;box-sizing:border-box;border:1px solid #CCC;text-align:center;margin-left:20px;">Reserved for space</span>
        <input type="number" />-->

        <button type="button" id="UpdateBtn" class="btn btn-success" style="position:absolute;top:10px;right:20px;">Update</button>
    </div>
</div>

<script type="text/javascript">
    activemenu("Settings");
    var optionsHH = ["00", "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23"];
    var optionsMM = ["00", "05", "10", "15", "20", "25", "30", "35", "40", "45", "50", "55"];
    var optionsXM = ["00", "10", "20", "30", "40", "50"];
    var optionsInterval = ["00", "15", "30", "45", "60"];

    $(document).ready(function () {

        $.each(optionsHH, function (i, p) {
            $('#mon-start-HH').append($('<option></option>').val(p).html(p));
            $('#mon-end-HH').append($('<option></option>').val(p).html(p));
            $('#tue-start-HH').append($('<option></option>').val(p).html(p));
            $('#tue-end-HH').append($('<option></option>').val(p).html(p));
            $('#wed-start-HH').append($('<option></option>').val(p).html(p));
            $('#wed-end-HH').append($('<option></option>').val(p).html(p));
            $('#thu-start-HH').append($('<option></option>').val(p).html(p));
            $('#thu-end-HH').append($('<option></option>').val(p).html(p));
            $('#fri-start-HH').append($('<option></option>').val(p).html(p));
            $('#fri-end-HH').append($('<option></option>').val(p).html(p));
            $('#sat-start-HH').append($('<option></option>').val(p).html(p));
            $('#sat-end-HH').append($('<option></option>').val(p).html(p));
            $('#sun-start-HH').append($('<option></option>').val(p).html(p));
            $('#sun-end-HH').append($('<option></option>').val(p).html(p));
        });

        $.each(optionsMM, function (i, p) {
            $('#mon-start-MM').append($('<option></option>').val(p).html(p));
            $('#mon-end-MM').append($('<option></option>').val(p).html(p));
            $('#tue-start-MM').append($('<option></option>').val(p).html(p));
            $('#tue-end-MM').append($('<option></option>').val(p).html(p));
            $('#wed-start-MM').append($('<option></option>').val(p).html(p));
            $('#wed-end-MM').append($('<option></option>').val(p).html(p));
            $('#thu-start-MM').append($('<option></option>').val(p).html(p));
            $('#thu-end-MM').append($('<option></option>').val(p).html(p));
            $('#fri-start-MM').append($('<option></option>').val(p).html(p));
            $('#fri-end-MM').append($('<option></option>').val(p).html(p));
            $('#sat-start-MM').append($('<option></option>').val(p).html(p));
            $('#sat-end-MM').append($('<option></option>').val(p).html(p));
            $('#sun-start-MM').append($('<option></option>').val(p).html(p));
            $('#sun-end-MM').append($('<option></option>').val(p).html(p));
        });

        $.each(optionsXM, function (i, p) {
            $('#mon-start-XM').append($('<option></option>').val(p).html(p));
            $('#mon-end-XM').append($('<option></option>').val(p).html(p));
            $('#tue-start-XM').append($('<option></option>').val(p).html(p));
            $('#tue-end-XM').append($('<option></option>').val(p).html(p));
            $('#wed-start-XM').append($('<option></option>').val(p).html(p));
            $('#wed-end-XM').append($('<option></option>').val(p).html(p));
            $('#thu-start-XM').append($('<option></option>').val(p).html(p));
            $('#thu-end-XM').append($('<option></option>').val(p).html(p));
            $('#fri-start-XM').append($('<option></option>').val(p).html(p));
            $('#fri-end-XM').append($('<option></option>').val(p).html(p));
            $('#sat-start-XM').append($('<option></option>').val(p).html(p));
            $('#sat-end-XM').append($('<option></option>').val(p).html(p));
            $('#sun-start-XM').append($('<option></option>').val(p).html(p));
            $('#sun-end-XM').append($('<option></option>').val(p).html(p));
        });

        $.each(optionsInterval, function (i, p) {
            $('#mon-interval').append($('<option></option>').val(p).html(p));
            $('#tue-interval').append($('<option></option>').val(p).html(p));
            $('#wed-interval').append($('<option></option>').val(p).html(p));
            $('#thu-interval').append($('<option></option>').val(p).html(p));
            $('#fri-interval').append($('<option></option>').val(p).html(p));
            $('#sat-interval').append($('<option></option>').val(p).html(p));
            $('#sun-interval').append($('<option></option>').val(p).html(p));
        });

        api.server.GetSettings();

    });

    var model = [];
    var holidaySelected;
    function getDataCallback(response) {
        model = JSON.parse(response);

        if (model) {

            // MONDAY
            var monday = model.Monday;
            if (monday.StartTime) {
                var monStart = monday.StartTime.split(':');
                $('#mon-start-HH').val(monStart[0]);
                $('#mon-start-MM').val(monStart[1]);
                $('#mon-start-XM').val(monStart[2]);
            }

            if (monday.EndTime) {
                var monEnd = monday.EndTime.split(':');
                $('#mon-end-HH').val(monEnd[0]);
                $('#mon-end-MM').val(monEnd[1]);
                $('#mon-end-XM').val(monEnd[2]);
            }

            $('#mon-interval').val(monday.Duration);
            $('#mon-Max').val(monday.MaximumAppointment);
            $('#mon-Reserved').val(monday.ReservedForSpare);

            // TUEDAY
            var tuesDay = model.Tuesday;
            if (tuesDay.StartTime) {
                var tueStart = tuesDay.StartTime.split(':');
                $('#tue-start-HH').val(tueStart[0]);
                $('#tue-start-MM').val(tueStart[1]);
                $('#tue-start-XM').val(tueStart[2]);
            }

            if (tuesDay.EndTime) {
                var tueEnd = tuesDay.EndTime.split(':');
                $('#tue-end-HH').val(tueEnd[0]);
                $('#tue-end-MM').val(tueEnd[1]);
                $('#tue-end-XM').val(tueEnd[2]);
            }

            $('#tue-interval').val(tuesDay.Duration);
            $('#tue-Max').val(tuesDay.MaximumAppointment);
            $('#tue-Reserved').val(tuesDay.ReservedForSpare);

            // WEDNESDAY
            var wedDay = model.WednesDay;
            if (wedDay.StartTime) {
                var wedStart = wedDay.StartTime.split(':');
                $('#wed-start-HH').val(wedStart[0]);
                $('#wed-start-MM').val(wedStart[1]);
                $('#wed-start-XM').val(wedStart[2]);
            }

            if (wedDay.EndTime) {
                var wedEnd = wedDay.EndTime.split(':');
                $('#wed-end-HH').val(wedEnd[0]);
                $('#wed-end-MM').val(wedEnd[1]);
                $('#wed-end-XM').val(wedEnd[2]);
            }

            $('#wed-interval').val(wedDay.Duration);
            $('#wed-Max').val(wedDay.MaximumAppointment);
            $('#wed-Reserved').val(wedDay.ReservedForSpare);

            // THURSDAY
            var thuDay = model.Thursday;
            if (thuDay.StartTime) {
                var thuStart = thuDay.StartTime.split(':');
                $('#thu-start-HH').val(thuStart[0]);
                $('#thu-start-MM').val(thuStart[1]);
                $('#thu-start-XM').val(thuStart[2]);
            }

            if (thuDay.EndTime) {
                var thuEnd = thuDay.EndTime.split(':');
                $('#thu-end-HH').val(thuEnd[0]);
                $('#thu-end-MM').val(thuEnd[1]);
                $('#thu-end-XM').val(thuEnd[2]);
            }

            $('#thu-interval').val(thuDay.Duration);
            $('#thu-Max').val(thuDay.MaximumAppointment);
            $('#thu-Reserved').val(thuDay.ReservedForSpare);

            // FRIDAY
            var friDay = model.Friday;
            if (friDay.StartTime) {
                var friStart = friDay.StartTime.split(':');
                $('#fri-start-HH').val(friStart[0]);
                $('#fri-start-MM').val(friStart[1]);
                $('#fri-start-XM').val(friStart[2]);
            }

            if (friDay.EndTime) {
                var friEnd = friDay.EndTime.split(':');
                $('#fri-end-HH').val(friEnd[0]);
                $('#fri-end-MM').val(friEnd[1]);
                $('#fri-end-XM').val(friEnd[2]);
            }

            $('#fri-interval').val(friDay.Duration);
            $('#fri-Max').val(friDay.MaximumAppointment);
            $('#fri-Reserved').val(friDay.ReservedForSpare);

            // SATTURDAY
            var satDay = model.Saturday;
            if (satDay.StartTime) {
                var satStart = satDay.StartTime.split(':');
                $('#sat-start-HH').val(satStart[0]);
                $('#sat-start-MM').val(satStart[1]);
                $('#sat-start-XM').val(satStart[2]);
            }

            if (satDay.EndTime) {
                var satEnd = satDay.EndTime.split(':');
                $('#sat-end-HH').val(satEnd[0]);
                $('#sat-end-MM').val(satEnd[1]);
                $('#sat-end-XM').val(satEnd[2]);
            }

            $('#sat-interval').val(satDay.Duration);
            $('#sat-Max').val(satDay.MaximumAppointment);
            $('#sat-Reserved').val(satDay.ReservedForSpare);

            // SUNDAY
            var sunDay = model.Sunday;
            if (sunDay.StartTime) {
                var sunStart = sunDay.StartTime.split(':');
                $('#sun-start-HH').val(sunStart[0]);
                $('#sun-start-MM').val(sunStart[1]);
                $('#sun-start-XM').val(sunStart[2]);
            }

            if (sunDay.EndTime) {
                var sunEnd = sunDay.EndTime.split(':');
                $('#sun-end-HH').val(sunEnd[0]);
                $('#sun-end-MM').val(sunEnd[1]);
                $('#sun-end-XM').val(sunEnd[2]);
            }

            $('#sun-interval').val(sunDay.Duration);
            $('#sun-Max').val(sunDay.MaximumAppointment);
            $('#sun-Reserved').val(sunDay.ReservedForSpare);

            $('#holidayTable').bootstrapTable({
                pagination: true,
                pageSize: 5,
                columns: [{
                    field: 'Holiday1',
                    title: 'Date',
                    width: '25%',
                    align: 'center',
                    formatter: function (value, row, index, field) {
                        if (value) {
                            return formatDate(value);
                        }
                        return "";
                    }
                }, {
                    field: 'ShortDesc',
                    title: 'Short Description',
                    width: '35%',
                    align: 'center'
                }, {
                    field: 'Notes',
                    title: 'Notes',
                    width: '40%',
                    align: 'center'
                }],
                data: model.HoliDays,
                onClickRow: onRowClick
            });
            $('#holidayTable').on('click', 'tr', function (event) {
                //if ($(this).hasClass('active')) {
                //    $(this).removeClass('active');
                //} else {
                    $(this).addClass('active').siblings().removeClass('active');
                //}
            });


            function onRowClick(row, index) {
                var data = JSON.stringify(row);
                holidaySelected = row.Holiday1;
            };
        }
    };
    
    $("#UpdateBtn").click(function (e) {

        // Monday
        var monStart = $('#mon-start-HH').val() + ':' + $('#mon-start-MM').val() + ':' + $("#mon-start-XM").val();
        var monEnd = $('#mon-end-HH').val() + ':' + $('#mon-end-MM').val() + ':' + $("#mon-end-XM").val();
        model.Monday.StartTime = monStart;
        model.Monday.EndTime = monEnd;
        model.Monday.Duration = $('#mon-interval').val();
        model.Monday.MaximumAppointment = $('#mon-Max').val();
        model.Monday.ReservedForSpare = $('#mon-Reserved').val();

        // Tuesday
        var tueStart = $('#tue-start-HH').val() + ':' + $('#tue-start-MM').val() + ':' + $("#tue-start-XM").val();
        var tueEnd = $('#tue-end-HH').val() + ':' + $('#tue-end-MM').val() + ':' + $("#tue-end-XM").val();
        model.Tuesday.StartTime = tueStart;
        model.Tuesday.EndTime = tueEnd;
        model.Tuesday.Duration = $('#tue-interval').val();
        model.Tuesday.MaximumAppointment = $('#tue-Max').val();
        model.Tuesday.ReservedForSpare = $('#tue-Reserved').val();

        // Wednesday
        var wedStart = $('#wed-start-HH').val() + ':' + $('#wed-start-MM').val() + ':' + $("#wed-start-XM").val();
        var wedEnd = $('#wed-end-HH').val() + ':' + $('#wed-end-MM').val() + ':' + $("#wed-end-XM").val();
        model.WednesDay.StartTime = wedStart;
        model.WednesDay.EndTime = wedEnd;
        model.WednesDay.Duration = $('#wed-interval').val();
        model.WednesDay.MaximumAppointment = $('#wed-Max').val();
        model.WednesDay.ReservedForSpare = $('#wed-Reserved').val();

        // Thursday
        var thuStart = $('#thu-start-HH').val() + ':' + $('#thu-start-MM').val() + ':' + $("#thu-start-XM").val();
        var thuEnd = $('#thu-end-HH').val() + ':' + $('#thu-end-MM').val() + ':' + $("#thu-end-XM").val();
        model.Thursday.StartTime = thuStart;
        model.Thursday.EndTime = thuEnd;
        model.Thursday.Duration = $('#thu-interval').val();
        model.Thursday.MaximumAppointment = $('#thu-Max').val();
        model.Thursday.ReservedForSpare = $('#thu-Reserved').val();

        // Friday
        var friStart = $('#fri-start-HH').val() + ':' + $('#fri-start-MM').val() + ':' + $("#fri-start-XM").val();
        var friEnd = $('#fri-end-HH').val() + ':' + $('#fri-end-MM').val() + ':' + $("#fri-end-XM").val();
        model.Friday.StartTime = friStart;
        model.Friday.EndTime = friEnd;
        model.Friday.Duration = $('#fri-interval').val();
        model.Friday.MaximumAppointment = $('#fri-Max').val();
        model.Friday.ReservedForSpare = $('#fri-Reserved').val();

        // Saturday
        var satStart = $('#sat-start-HH').val() + ':' + $('#sat-start-MM').val() + ':' + $("#sat-start-XM").val();
        var satEnd = $('#sat-end-HH').val() + ':' + $('#sat-end-MM').val() + ':' + $("#sat-end-XM").val();
        model.Saturday.StartTime = satStart;
        model.Saturday.EndTime = satEnd;
        model.Saturday.Duration = $('#sat-interval').val();
        model.Saturday.MaximumAppointment = $('#sat-Max').val();
        model.Saturday.ReservedForSpare = $('#sat-Reserved').val();

        // Sunday
        var sunStart = $('#sun-start-HH').val() + ':' + $('#sun-start-MM').val() + ':' + $("#sun-start-XM").val();
        var sunEnd = $('#sun-end-HH').val() + ':' + $('#sun-end-MM').val() + ':' + $("#sun-end-XM").val();
        model.Sunday.StartTime = sunStart;
        model.Sunday.EndTime = sunEnd;
        model.Sunday.Duration = $('#sun-interval').val();
        model.Sunday.MaximumAppointment = $('#sun-Max').val();
        model.Sunday.ReservedForSpare = $('#sun-Reserved').val();

        var json = JSON.stringify(model);
        api.server.UpdateSetting(json);
        e.preventDefault();
    });

    $("#deleteBtn").click(function (e) {
        
        if (holidaySelected) {
            model.HoliDays.forEach(function (element, index) {
                if (Date.parse(element.Holiday1) == Date.parse(holidaySelected)) {
                    model.HoliDays.splice(index, 1);
                }
            });

            $('#holidayTable').bootstrapTable('refreshOptions', {
                pagination: true,
                pageSize: 5,
                data: model.HoliDays
            });            
        }
        e.preventDefault();
    });

    function formatDate(strDate) {
        var date = new Date(Date.parse(strDate)),
            year = date.getFullYear(),
            month = (date.getMonth() + 1).toString(),
            formatedMonth = (month.length === 1) ? ("0" + month) : month,
            day = date.getDate().toString(),
            formatedDay = (day.length === 1) ? ("0" + day) : day;
        return formatedDay + "/" + formatedMonth + "/" + year;
    };

    function showMessageBox(message) {
        alert(message);
    };

</script>