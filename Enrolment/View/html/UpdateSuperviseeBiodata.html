<style>

    body {
        background: #fff;
    }

    .collapsible {
        list-style: none;
        padding: 0;
        margin: 1rem 0;
    }

        .collapsible li {
            list-style: none;
            padding: 0;
        }

        .collapsible .collapsible-header {
            font-size: 1.2rem;
            border-bottom: 1px solid #ccc;
            position: relative;
            padding-top: 1rem;
        }

            .collapsible .collapsible-header:after {
                color: #1cacf6;
                content: "\f126";
                display: inline-block;
                font-family: "Ionicons";
                speak: none;
                font-style: normal;
                font-weight: normal;
                font-variant: normal;
                text-transform: none;
                text-rendering: auto;
                line-height: 1;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                position: absolute;
                right: 0;
            }

            .collapsible .collapsible-header.collapsed:after {
                content: "\f123";
            }

        .collapsible .collapsible-body {
            margin: 1rem 0;
        }

    #superviseeDetails .btn {
        text-transform: uppercase;
    }

    .form-material .input-group-prepend {
        min-width: 35%;
    }

    .form-material .input-group .input-group-text {
        border: 0;
        border-radius: 0;
        background-color: transparent;
        color: #209CDD;
    }

    .form-material .btn {
        background: #1CACF6;
        color: #fff;
        text-transform: uppercase;
    }

        .form-material .btn.btn-light {
            background-color: transparent;
            color: #1CACF6;
        }

    .form-group {
        margin-bottom: 1rem;
        position: relative;
        min-height: 50px;
    }

    .form-select {
        width: 100%;
        float: left;
        border-bottom: 1px solid #ccc;
        margin: 10px 0;
        display: flex;
        flex-direction: row;
    }

        .form-select .input-group-select {
            min-width: 35%;
        }

        .form-select .form-label {
            border: 0;
            border-radius: 0;
            background-color: transparent;
            color: #209CDD;
            padding: .375rem .75rem;
            margin-bottom: 0;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            position: absolute;
        }

        .form-select select {
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #495057;
            -moz-appearance: none; /* Firefox */
            -webkit-appearance: none; /* Safari and Chrome */
            text-indent: 1px;
            text-overflow: '';
            border: 0;
            position: relative;
        }

            .form-select select + label {
                float: right;
                margin-top: 7px;
                margin-right: 5px;
                pointer-events: none;
                background-color: #fff;
                padding-right: 5px;
                color: #209CDD;
            }

            .form-select select::-ms-expand {
                display: none;
            }

        .form-select .select-wrap {
            position: relative;
        }

    .tab-fix {
        position: relative;
        max-width: 100%;
        max-height: calc(100% - 80px);
        overflow-x: hidden;
        overflow-y: auto;
    }

    .form-material input::-webkit-input-placeholder {
        font-style: italic;
        color: #ccc;
    }

    .form-material input:-moz-placeholder {
        font-style: italic;
        color: #ccc;
    }

    .form-material input::-moz-placeholder {
        font-style: italic;
        color: #ccc;
    }

    .form-material input:-ms-input-placeholder {
        font-style: italic;
        color: #ccc;
    }

    .hidden-scrollbar {
        position: relative;
        height: 450px;
        width: 100%;
        overflow: hidden;
    }

        .hidden-scrollbar .scrollbar {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: -17px;
            padding-right: 17px;
            overflow-y: auto;
            overflow-x: hidden;
        }

    /*Create New Supervisee Title*/
    .createNewSuperviseeTitle {
        border-bottom: 1px solid #dee2e6;
        padding: 20px 20px 0;
    }

        .createNewSuperviseeTitle h5 {
            border-bottom: 2px solid red;
            width: fit-content;
            padding-bottom: 5px;
            margin-bottom: 0;
        }

    /*Create New Supervisee Process*/
    .newSuperviseeProcess {
        text-align: center;
        padding: 30px 0;
        font-size: 15px;
        color: #dee2e6;
        overflow: hidden;
    }

        .newSuperviseeProcess .newSupervisee:before {
            content: "\f105";
            font-family: FontAwesome;
            position: absolute;
            bottom: 0;
            right: 0;
            height: 50px;
            width: 25px;
            font-size: 45px;
            font-weight: normal;
        }

        .newSuperviseeProcess .newSupervisee:last-child:before {
            display: none;
        }

        .newSuperviseeProcess .newSupervisee.active {
            color: #1CACF6;
        }

        .newSuperviseeProcess .newSuperviseeStep {
            margin-bottom: 15px;
        }

            .newSuperviseeProcess .newSuperviseeStep span {
                border-radius: 50%;
                background: #dee2e6;
                text-align: center;
                padding: 10px 16px;
                color: #fff;
                font-size: 22px;
            }

        .newSuperviseeProcess .newSupervisee.active .newSuperviseeStep span {
            background: #1CACF6;
        }

        .newSuperviseeProcess .newSuperviseeStepname span {
            text-align: right;
        }

    .newSuperviseeContent {
        overflow: hidden;
    }

    button {
        background: none;
        border: none;
        color: #1CACF6;
        margin-top: 20px;
    }

    .controlprocess i:before {
        font-size: 100px;
    }

    .carousel-control-prev,
    .carousel-control-next {
        color: #1cacf6 !important;
    }

        .carousel-control-next:focus,
        .carousel-control-next:hover,
        .carousel-control-prev:focus,
        .carousel-control-prev:hover {
            color: #1CACF6 !important;
        }

    .nav-tabs-custom {
        height: 50px;
        background: #F6F6F6;
        border: 0;
    }

        .nav-tabs-custom a {
            height: 50px;
            font-size: 1.1rem;
            border: 0;
            font-weight: bold;
        }

            .nav-tabs-custom a i {
                padding-right: 10px;
            }

        .nav-tabs-custom .nav-link {
            padding: 1rem;
            line-height: 1rem;
        }

            .nav-tabs-custom .nav-link.active {
                border: 0;
                border-radius: 0;
            }

    .carousel-indicators {
        top: 0;
        position: relative;
        bottom: none;
        margin-right: 0;
    }

    #newSupervisee {
        text-align: center;
    }

    /*New Supervisee Content */
    .newSuperviseeContent .newSuperviseeContentWrapper {
        text-align: center;
        height: 340px;
    }

        .newSuperviseeContent .newSuperviseeContentWrapper img {
            color: #696969;
            background: #F5F5F5;
            padding: 10px 5px;
            margin: 5px 0;
        }

        .newSuperviseeContent .newSuperviseeContentWrapper a {
            color: #696969;
            text-decoration: underline;
            line-height: 1.2;
        }

            .newSuperviseeContent .newSuperviseeContentWrapper a:hover,
            .newSuperviseeContent .newSuperviseeContentWrapper a:focus {
                color: #1CACF6;
            }

    .verifyCardview {
        background-image: url(../images/viewlayer.png);
        background-size: cover;
        width: 87%;
        height: 190px;
        background-repeat: no-repeat;
        font-size: 22px;
        font-weight: bold;
        position: relative;
    }

        .verifyCardview p {
            top: 38%;
            position: absolute;
            text-align: center;
            width: 100%;
        }

    .printingCard img {
        background: none !important;
        width: 100px;
    }

    .modal-dialog {
        width: 450px;
    }

    .modal-header {
        border: none;
    }

    .modal-body button {
        padding: 10px 0;
        border-radius: 4px;
    }

    .cancelButton {
        z-index: 9;
    }

    .carousel-control {
        opacity: 0;
    }
</style>
<div class="container" style="margin-top:30px;">
    <ul class="nav nav-tabs nav-tabs-custom" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#printCard" role="tab">
                <i class="ion-printer"></i>
                Print Card
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#superviseeDetails" role="tab">
                <i class="ion-information-circled"></i>
                Supervisee Details
            </a>
        </li>

    </ul>
    <div class="PrintCard">
        <div>
            <!-- Nav tabs -->
            <!-- Tab panes -->
            <div class="tab-content">
                <div class="tab-pane active" id="printCard" role="tabpanel">
                    <div class="createNewSupervisee">
                        <div class="createNewSuperviseeTitle">
                            <h5>Create New Supervisee</h5>
                        </div>
                        <div id="createNewSupervisee" class="row carousel slide createNewSupervisee" data-ride="carousel" data-interval="false">
                            <div class="newSuperviseeProcess col-8 offset-2 carousel-indicators">
                                <div class="newSupervisee col-3 takePhotos active" data-target="#createNewSupervisee" data-slide-to="0">
                                    <div class="newSuperviseeStep"><span>1</span></div>
                                    <div class="newSuperviseeStepname">Take Photos</div>
                                </div>
                                <div class="newSupervisee col-3 getFingerPrints" data-target="#createNewSupervisee" data-slide-to="1">
                                    <div class="newSuperviseeStep"><span>2</span></div>
                                    <div class="newSuperviseeStepname">Get Fingerprints</div>

                                </div>
                                <div class="newSupervisee col-3 verifyCard" data-target="#createNewSupervisee" data-slide-to="2">
                                    <div class="newSuperviseeStep"><span>3</span></div>
                                    <div class="newSuperviseeStepname">Verify Card</div>
                                </div>
                                <div class="newSupervisee col-3 PrintCard" data-target="#createNewSupervisee" data-slide-to="3">
                                    <div class="newSuperviseeStep"><span>4</span></div>
                                    <div class="newSuperviseeStepname">Print Card</div>
                                </div>
                            </div>
                            <div class="cancelButton col-2 ml-auto">
                                <a href="#" id="btnCancel">CLICK TO CANCEL</a>
                            </div>


                            <div class="newSuperviseeContent carousel-inner ">
                                <div class="carousel-item col-8 offset-2 active">
                                    <div class="newSuperviseeContentWrapper row">
                                        <div class="col-6">

                                            <img id="image1" src="../images/avatar-demo.jpg" class="img-fluid"><br />
                                            <a href="#" id="btnTakePic1">Take Picture 1</a>
                                        </div>
                                        <div class="col-6">

                                            <img id="image2" src="../images/avatar-demo.jpg" class="img-fluid"><br />
                                            <a href="#" id="btnTakePic2">Take Picture 2</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item col-8 offset-2">
                                    <div class="newSuperviseeContentWrapper row">
                                        <div class="col-6">
                                            <div><strong id="leftProcessMessage">Place left thumb onto scanner.</strong></div>
                                            <div class="row col-10 offset-1">
                                                <div class="col-12"><img src='../images/leftthumb.png' id="leftFingerprint" style="max-width:35%;"></div>
                                            </div>
                                            <!--<div>Left Thumb-Fingerprint Preview</div>-->
                                        </div>
                                        <div class="col-6">
                                            <div><strong id="rightProcessMessage">Place right thumb onto scanner.</strong></div>
                                            <div class="row col-10 offset-1">
                                                <div class="col-12"><img src='../images/rightthumb.png' id="rightFingerprint" style="max-width:35%;"></div><br />
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="row col-10 offset-1">
                                                <div class="scan col-6 ml-auto"><a href="" data-target="#fingerPrint" data-toggle="modal" id="leftThumbScanBtn">Scan</a></div>
                                                <div class="clear col-6 mr-auto"><a href="#" id="leftThumbClearBtn">Clear</a></div>
                                            </div><br />
                                            <div>Left Thumb-Fingerprint Preview</div>
                                        </div>
                                        <div class="col-6">
                                            <div class="row col-10 offset-1">
                                                <div class="scan col-6 ml-auto"><a href="" data-target="#fingerPrint" data-toggle="modal" id="rightThumbScanBtn">Scan</a></div>
                                                <div class="clear col-6 mr-auto"><a href="#" id="rightThumbClearBtn">Clear</a></div>
                                            </div><br />
                                            <div>Right Thumb-Fingerprint Preview</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item col-8 offset-2">
                                    <div class="newSuperviseeContentWrapper row"  style="background-color:transparent;">
                                        <div class="col-6" style="background-color:transparent;">
                                            <img src="" style="max-width:100%;border-radius:10px;border:2px solid #CCC;background-color:transparent;" name="frontCardImg" />
                                        </div>
                                        <div class="col-6" style="background-color:transparent;">
                                            <img src="" style="max-width:100%;border-radius:10px;border:2px solid #CCC;background-color:transparent;" name="backCardImg" />
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item col-8 offset-2">
                                    <div class="newSuperviseeContentWrapper row">

                                        <div class="printingCard col-12" style="display:none" id="printSuccessMessage">
                                        </div>
                                        <div>
                                            <input class="btn" type="button" value="Reprint" id="rePrinter" style="display:none;" />
                                        </div>
                                        <!--<div>
                                            <input class="btn" type="button" value="Done" onclick="api.server.LoadListSupervisee();" />
                                        </div>-->
                                        <div style="margin:10px auto;display:none;text-align:center;" id="reCheckSCard">
                                            <img src="" style="margin-left:10px;" name="frontCardImg" />
                                            <img src="" style="margin-left:10px;" name="backCardImg" />
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="controlprocess">
                                <a class="carousel-control-prev" href="#createNewSupervisee" role="button" data-slide="prev">

                                    <span aria-hidden="true"><i class="fal fa fa-angle-left"></i></span>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a class="carousel-control-next" href="#createNewSupervisee" role="button" data-slide="next">
                                    <span aria-hidden="true"><i class="fal fa fa-angle-right"></i></span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </div>

                        </div>

                    </div>
                </div>
                <div class="tab-pane" id="superviseeDetails" role="tabpanel">
                    <div class="hidden-scrollbar">
                        <div class="scrollbar">

                            <form class="form-material" id="superviseeFrm">

                                <input type="hidden" id="userId" name="userId" />
                                <input type="hidden" id="Address_ID" name="address_ID" />
                                <input type="hidden" id="OAddress_ID" name="Other_Address_ID" />

                                <ul id="accordion" class="collapsible">
                                    <!--<li>
                                        <div class="collapsible-header collapsed" data-toggle="collapse"
                                             data-target="#suppervisee" id="biodata">
                                            Suppervisee's Biodata
                                        </div>
                                        <div id="suppervisee" class="collapsible-body collapse"
                                             aria-labelledby="Suppervisee's Biodata" data-parent="#accordion">
                                            <div class="row">
                                                <div class="col-md-6 col-sm-12">
                                                    <div class="row">
                                                        <div class="col-md-6 col-sm-12">
                                                            <img src="../images/avatar-demo.jpg" alt="avatar"
                                                                 class="img-fluid" id="userPhoto1" />
                                                            <input type="hidden" id="User_Photo1" name="User_Photo1" />
                                                        </div>
                                                        <div class="col-md-6 col-sm-12">
                                                            <img src="../images/avatar-demo.jpg" alt="avatar"
                                                                 class="img-fluid" id="userPhoto2" />
                                                            <input type="hidden" id="User_Photo2" name="User_Photo2" />
                                                        </div>
                                                    </div>
                                                    <a href="#" id="updatePhotos">Update Photos</a>
                                                </div>
                                                <div class="col-md-6 col-sm-12">
                                                    <div class="row">
                                                        <div class="col-md-6 col-sm-12">
                                                            <img src="../img/avatar-demo.jpg" alt="avatar"
                                                                 class="img-fluid" id="LeftThumbFingerprint" name="LeftThumbFingerprint" />

                                                        </div>
                                                        <div class="col-md-6 col-sm-12">
                                                            <img src="../img/avatar-demo.jpg" alt="avatar"
                                                                 class="img-fluid" id="RightThumbFingerprint" name="RightThumbFingerprint" />
                                                        </div>
                                                    </div>
                                                    <a href="#" onclick="api.server.UpdateFingerprints()">Update Fingerprints</a>
                                                </div>
                                            </div>
                                        </div>
                                    </li>-->
                                    <li>
                                        <!-- Residential Address-->
                                        <div class="collapsible-header collapsed" data-toggle="collapse"
                                             data-target="#residential">
                                            Residential Address
                                        </div>
                                        <div id="residential" class="collapsible-body collapse"
                                             aria-labelledby="Residential Address" data-parent="#accordion">

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="house">
                                                            House No.
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter House No."
                                                           aria-label="house" aria-describedby="house" id="BlkHouse_Number" name="BlkHouse_Number">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="unit">
                                                            Unit No.
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Unit No."
                                                           aria-label="unit" aria-describedby="unit" id="FlrUnit_Number" name="FlrUnit_Number">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="street">
                                                            Street name
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Street name"
                                                           aria-label="street" aria-describedby="street" id="Street_Name" name="Street_Name">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="country">
                                                            Country
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Country"
                                                           aria-label="country" aria-describedby="country" id="Country" name="country">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="zip">
                                                            Postal code
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Postal code"
                                                           aria-label="zip" aria-describedby="zip" id="Postal_Code" name="Postal_Code">
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <!-- Other Address -->
                                        <div class="collapsible-header collapsed" data-toggle="collapse"
                                             data-target="#otherAddress">
                                            Other Address
                                        </div>
                                        <div id="otherAddress" class="collapsible-body collapse"
                                             aria-labelledby="Other Address" data-parent="#accordion">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="house2">
                                                            House No.
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter House No."
                                                           aria-label="house2" aria-describedby="house2" id="OBlkHouse_Number" name="OBlkHouse_Number">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="unit2">
                                                            Unit No.
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Unit No."
                                                           aria-label="unit2" aria-describedby="unit2" id="OFlrUnit_Number" name="OFlrUnit_Number">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="street2">
                                                            Street name
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Street name"
                                                           aria-label="street2" aria-describedby="street2" id="OStreet_Name" name="OStreet_Name">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="country2">
                                                            Country
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Country"
                                                           aria-label="country2" aria-describedby="country2" id="OCountry" name="OCountry">
                                                </div>
                                            </div>


                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="zip2">
                                                            Postal code
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Postal code"
                                                           aria-label="zip2" aria-describedby="zip2" id="OPostal_Code" name="OPostal_Code">
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <!-- Next-of-Kin -->
                                        <div class="collapsible-header collapsed" data-toggle="collapse"
                                             data-target="#nextOfKin">
                                            Next-of-Kin
                                        </div>
                                        <div id="nextOfKin" class="collapsible-body collapse"
                                             aria-labelledby="Next-of-Kin" data-parent="#accordion">

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="nok-name">
                                                            Next-of-Kin Name
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Next-of-Kin Name"
                                                           aria-label="nok-name" aria-describedby="nok-name" id="NextOfKin_Name" name="NextOfKin_Name">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="nok-contact">
                                                            Next-of-Kin Contact No.
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Next-of-Kin Contact No."
                                                           aria-label="nok-contact" aria-describedby="nok-contact" id="NextOfKin_Contact_Number" name="NextOfKin_Contact_Number">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="nok-relationship">
                                                            Next-of-Kin Relationship
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Next-of-Kin Relationship"
                                                           aria-label="nok-relationship"
                                                           aria-describedby="nok-relationship" id="NextOfKin_Relationship" name="NextOfKin_Relationship">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="nok-house">
                                                            Next-of-Kin Blk House No.
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Next-of-Kin Blk House No."
                                                           aria-label="nok-house" aria-describedby="nok-house" id="NextOfKin_BlkHouse_Number" name="NextOfKin_BlkHouse_Number">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="nok-unit">
                                                            Next-of-Kin Unit No.
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Next-of-Kin Unit No."
                                                           aria-label="nok-unit" aria-describedby="nok-unit" id="NextOfKin_FlrUnit_Number" name="NextOfKin_FlrUnit_Number">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="nok-street">
                                                            Next-of-Kin Street Name
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Next-of-Kin Street Name"
                                                           aria-label="nok-street" aria-describedby="nok-street" id="NextOfKin_Street_Name" name="NextOfKin_Street_Name">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="nok-country">
                                                            Next-of-Kin Country
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Next-of-Kin Country"
                                                           aria-label="nok-country" aria-describedby="nok-country" id="NextOfKin_Country" name="NextOfKin_Country">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="nok-zip">
                                                            Next-of-Kin Postal code
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Next-of-Kin Postal code"
                                                           aria-label="nok-zip" aria-describedby="nok-zip" id="NextOfKin_PostalCode" name="NextOfKin_PostalCode">
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <!-- Next-of-Kin -->
                                        <div class="collapsible-header collapsed" data-toggle="collapse"
                                             data-target="#employment">
                                            Employment Details
                                        </div>
                                        <div id="employment" class="collapsible-body collapse"
                                             aria-labelledby="Employment Details" data-parent="#accordion">

                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="e-name">
                                                            Employer Name
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Employer Name"
                                                           aria-label="e-name" aria-describedby="e-name" id="Employment_Name" name="Employment_Name">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="e-contact">
                                                            Employer Contact No.
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Contact No."
                                                           aria-label="e-contact" aria-describedby="e-contact" id="Employment_Contact_Number" name="Employment_Contact_Number">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="e-company">
                                                            Employer Company Name
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Company Name"
                                                           aria-label="e-company" aria-describedby="e-company" id="Employment_Company_Name" name="Employment_Company_Name">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="e-job">
                                                            Employer Job Title
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Job Title"
                                                           aria-label="e-job" aria-describedby="e-job" id="Employment_Job_Title" name="Employment_Job_Title">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="form-select">
                                                    <div class="input-group-select">
                                                        <span class="form-label" id="e-start">
                                                            Employer Start Date
                                                        </span>
                                                    </div>
                                                    <input type="text" style="display:none" value="" id="Employment_Start_Date" name="Employment_Start_Date" />
                                                    <div class="select-wrap">

                                                        <select id="day" title="day">
                                                            <option>DD</option>

                                                        </select>
                                                        <label for="day">
                                                            <i class="ion-chevron-down"></i>
                                                        </label>
                                                    </div>
                                                    <div class="select-wrap">
                                                        <select id="month" title="month">
                                                            <option>MM</option>

                                                        </select>
                                                        <label for="month">
                                                            <i class="ion-chevron-down"></i>
                                                        </label>
                                                    </div>
                                                    <div class="select-wrap">
                                                        <select id="year" title="year">
                                                            <option>YYYY</option>

                                                        </select>
                                                        <label for="year">
                                                            <i class="ion-chevron-down"></i>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="form-select">
                                                    <div class="input-group-select">
                                                        <span class="form-label" id="e-start">
                                                            Employer End Date
                                                        </span>
                                                    </div>
                                                    <input type="text" style="display:none" value="" id="Employment_End_Date" name="Employment_End_Date" />
                                                    <div class="select-wrap">
                                                        <select id="day_end" title="day">
                                                            <option>DD</option>

                                                        </select>
                                                        <label for="day_end">
                                                            <i class="ion-chevron-down"></i>
                                                        </label>
                                                    </div>
                                                    <div class="select-wrap">
                                                        <select id="month_end" title="month">
                                                            <option>MM</option>
                                                        </select>
                                                        <label for="month_end">
                                                            <i class="ion-chevron-down"></i>
                                                        </label>
                                                    </div>
                                                    <div class="select-wrap">
                                                        <select id="year_end" title="year">
                                                            <option>YYYY</option>

                                                        </select>
                                                        <label for="year_end">
                                                            <i class="ion-chevron-down"></i>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="e-remarks">
                                                            Employer Remarks
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter Remarks"
                                                           aria-label="e-remarks" aria-describedby="e-remarks" id="Employment_Remarks" name="Employment_Remarks">
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>

                                <div class="pull-right">
                                    <!-- <button class="btn btn-light" id="btnCancelEdit" onclick="api.server.LoadListSupervisee();">Cancel</button>-->
                                    <button class="btn btn-light" onclick="api.server.LoadListSupervisee();">Cancel</button>

                                    <a href="#" class="btn btn-primary" id="SaveBtn">Save</a>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>

<!--<script>
    $('#createNewSupervisee').on('slide.bs.carousel', function () {
        alert(1);
    })
</script>-->
<!--<div style="width:100%">
    <div class="header  header-form-supervisee">
        <img class="logo" src="../images/logo.png" />
        <h3>Enrol New Supervisee</h3>
        <div class="clear"></div>
    </div>
    <div class="form-supervisee">
        <input class="name-supervisee" type="text" value="Enrol Supervisee" />
        <nav class="nav nav-tabs" id="myTab" role="tablist">

            <a class="nav-item nav-link active" href="javascript:;">Print Card</a>
            <a class="nav-item nav-link" href="javascript:;" onclick="api.server.EditSupervisee(userIDNew,'UpdateSupervisee');">Supervisee Details</a>
        </nav>
        <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="print-card" role="tabpanel" aria-labelledby="nav-home-tab">
                <div id="wizard">
                    <h2>TAKE PHOTOS</h2>
                    <section>
                        <div class="row">
                            <div class="col">
                                <img id="image1" class="avatar" src="../images/usr-default.jpg" style="width:44%;height:auto" />
                                <br />
                                <button type="button" onclick="api.server.OpenPictureCaptureForm('1')">Take Picture 1</button>
                            </div>
                            <div class="col">
                                <img id="image2" class="avatar" src="../images/usr-default.jpg" style="width:44%;height:auto" />
                                <br />
                                <button type="button" onclick="api.server.OpenPictureCaptureForm('2')">Take Picture 2</button>
                            </div>

                        </div>
                    </section>

                    <h2>GET FINGERPRINTS</h2>
                    <section>
                        <div class="row">
                            <div class="col" id="leftThumbDiv">
                                <div style="border:1px solid #000000;color:#000000" id="leftProcessMessage">Place left thumb onto scanner</div>
                                <div><button style="float:left" class="btn-form" id="leftThumbScanBtn" onclick="ActionScanFingerPrint(false)">Scan</button><button style="float:right;" id="leftThumbClearBtn" class="btn-form">Clear</button></div>
                                <br />
                                <div> <img class="avatar" id="leftFingerprint" style="max-width:35%;" /></div>
                                <br />
                                <div style="border:1px solid #000000">Left Fingerprint Preview</div>
                            </div>
                            <div class="col" id="rightThumbDiv">
                                <div style="border:1px solid #000000;color:#000000" id="rightProcessMessage">Place right thumb onto scanner</div>
                                <div><button style="float:left" class="btn-form" id="rightThumbScanBtn" onclick="ActionScanFingerPrint(true)">Scan</button><button style="float:right;" id="rightThumbClearBtn" class="btn-form">Clear</button></div>
                                <br />
                                <div> <img class="avatar" id="rightFingerprint" style="max-width:35%" /></div>
                                <br />
                                <div style="border:1px solid #000000">Right Fingerprint Preview</div>
                            </div>
                        </div>
                    </section>

                    <h2>VERIFY CARD</h2>
                    <section>
                        <div>
                            <div class="row">
                                <div class="col">
                                    <div style="width:300px;height:182px;border:1px solid #000;float:right;position:relative;overflow:hidden;border-radius:5px;font-family:Arial;" id="frontCard">
                                        <img src="../images/background-smart-card.png" style="position:absolute;z-index:0;left:0px;top:0px;height:100%;width:100%;" />
                                        <div style="z-index:1;color:#FFF;">
                                            <div style="position:absolute;font-size: 15px;font-weight: bold;font-style: italic;top: 10px;left: 20px;">
                                                CNB Supervisee Card
                                            </div>
                                            <div style="height:95px;width:75px;position:absolute;top:40px;left:20px;text-align:center;padding:1px;border-radius:5px;background-color:#FFF;">
                                                <img src="../images/usr-default.jpg" id="verifyPhoto" style="height:100%;max-width:100%;border-radius:5px;" />
                                            </div>
                                            <img src="../images/central_narco_logo.png" style="position:absolute;height: 35px;top: 119px;left: 40px;z-index: 1;">
                                            <div style="position:absolute;top:40px;left: 110px;font-size: 12px;font-weight: bold;line-height: 16px;">
                                                <div><span name="verifyName"></span></div>
                                                <div><span name="verifyNRIC"></span></div>
                                                <div style="clear:both"></div>
                                            </div>
                                            <div style="position:absolute;width:auto;left:110px;bottom:45px;background-color:#FFF;border-radius:5px;padding:5px;">
                                                <img name="verifyBarcode" />
                                            </div>
                                            <div style="position:absolute;right:15px;bottom:10px;text-align:right;font-size:10px;font-weight:bold;">
                                                <span name="verifyCardNumber"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div style="width:300px;height:182px;border:1px solid #000;float:right;position:relative;overflow:hidden;border-radius:5px;font-family:Arial;" id="backCard">
                                        <img src="../images/background-smart-card.png" style="position:absolute;z-index:0;left:0px;top:0px;height:100%;width:100%;" />

                                        <div style="position:absolute;bottom:15px;left:15px;z-index:1;color:#FFF;">
                                            <div style="font-size: 12px;font-weight: bold;">
                                                <div>Date of Issue: <span name="issueDate"></span></div>
                                            </div>
                                            <div style="margin-top:10px;font-size: 8px;font-weight: bold;text-shadow: 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black;">
                                                “If this card is found, please return to any Police Station or to:<br />
                                                <span name="verifyCompanyName"></span><br />
                                                <span name="verifyVenueName"></span><br />
                                                <span name="verifyAddress"></span><br />
                                                Contact Number: <span name="verifyContactNumber"></span><br />
                                            </div>
                                        </div>
                                        <div style="clear:both"></div>
                                    </div>
                                </div>
                                <div style="clear:both;"></div>
                            </div>
                        </div>
                    </section>

                    <h2>PRINT CARD</h2>
                    <section>
                        <div class="row">
                            <div class="col" style="text-align:center">
                                <div style="width:100%;border:1px solid #000000;font-size:15px;display:none" id="printSuccessMessage"></div>
                                <div style="text-align:center;margin-top:10px;display:none;" id="rePrinter">
                                    <input type="button" value="Reprint" onclick="api.server.PrintSmartCard(frontCardImg, backCardImg, JSON.stringify(CardInfo));" />
                                </div>
                                <div style="margin:10px auto;display:none;text-align:center;" id="reCheckSCard">
                                    <img src="" style="margin-left:10px;" id="frontCardImg" />
                                    <img src="" style="margin-left:10px;" id="backCardImg" />
                                </div>
                            </div>

                        </div>
                    </section>
                </div>

            </div>


        </div>
    </div>
</div>-->
<div style="opacity:0;position:fixed;z-index:-1;right:0px;top:0px;">
    <div style="width:600px;height:376px;position:relative;overflow:hidden;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;background-color:#FFF;border-radius:20px;overflow:hidden;" id="frontCard">
        <img src="../images/front-smartcard.png" style="position:absolute;z-index:0;left:0px;top:0px;height:100%;width:100%;" />

        <div style="z-index:1;">
            <div style="position:absolute;left:56px;top:35px;height:calc(100% - 35px);width:100%;">
                <div style="position:absolute;width: 172px;height: 172px;top: 40px;left: 40px;z-index:0;overflow:hidden;">
                    <img src="" name="card-avarta" style="object-fit: cover;position:absolute;width:100%;height:100%;top:0px;left:0px;" />
                </div>
                <img src="../images/front-avarta.png" style="position:absolute;z-index:1;left:0px;top:0px;height:328px;width:252px;" />
            </div>
            <div style="position:absolute;font-size: 23px;font-weight: 700;top: 20px;left: 90px;color:#000;z-index:1;">
                Supervision Card
            </div>
            <div style="position:absolute;top: 85px;left: 325px;width:calc(100% - 325px - 30px);height:calc(100% - 70px);z-index:1;">
                <div style="font-size: 16px;color:#5c5c5c;margin-bottom: 0px;font-weight: bold;">Name</div>
                <div style="font-size: 19px;color:#2a2a2a;text-transform:uppercase;margin-bottom: 20px;line-height: 25px;letter-spacing: 0px;font-weight: bolder;" name="verifyName"></div>
                <div style="font-size: 16px;color:#5c5c5c;margin-bottom: 0px;font-weight: bold;">NRIC No.</div>
                <div style="font-size: 19px;color:#2a2a2a;text-transform:uppercase;margin-bottom: 0px;line-height: 25px;letter-spacing: 0px;font-weight: bolder;" name="verifyNRIC">
                    23423
                </div>
            </div>
            <div style="position:absolute;left:56px;bottom:45px;height:50px;width:350px;z-index:1;">
                <img name="verifyBarcode" />
            </div>
            <div style="position:absolute;right:30px;bottom:39px;text-align:right;font-size:15px;font-weight:bold;color:#2a2a2a;z-index:1;" name="verifyCardNumber">
            </div>
        </div>
    </div>
    <div style="width:600px;height:376px;position:relative;overflow:hidden;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;background-color:#FFF;border-radius:20px;overflow:hidden;" id="backCard">
        <img src="../images/front-smartcard.png" style="position:absolute;z-index:0;left:0px;top:0px;height:100%;width:100%;" />
        <div style="bottom:39px;left:30px;position:absolute;">
            <div style="font-size: 18px;font-weight: bold;margin-bottom: 15px;">
                <div>Date of Issue: <span name="issueDate">4357348578347583479</span></div>
            </div>
            <div style="font-size:15px;">
                If this card is found, please return to any Police Station or to:<br />
                <span name="verifyCompanyName" style="font-weight:bold;font-size:14px;">34534534</span><br />
                <span name="verifyVenueName" style="font-weight:bold;font-size:14px;">34534534</span><br />
                <span name="verifyAddress" style="font-weight:bold;font-size:14px;">54654</span><br />
                Contact Number: <span name="verifyContactNumber" style="font-weight:bold;font-size:14px;">54654654654</span><br />
            </div>
        </div>
        <img src="../images/backend-logo.png" style="position:absolute;z-index:0;right:30px;bottom:45px;" />
    </div>
</div>
<script>

    var frontCardImg = null;
    var backCardImg = null;
    var CardInfo = null;
    var countPrinterSmartCard = 0;

    $('#btnCancel').click(function () {
        api.server.LoadListSupervisee();
    });

    $('#btnTakePic1').click(function () {
        api.server.OpenPictureCaptureForm('1', 'new');
    });
    $('#btnTakePic2').click(function () {
        api.server.OpenPictureCaptureForm('2', 'new');
    });
    $('#rightThumbScanBtn').click(function () {
        ActionScanFingerPrint(true);
    });
    $('#leftThumbScanBtn').click(function () {
        ActionScanFingerPrint(false);
    });
    $('#btnReprint').click(function () {
        api.server.PrintSmartCard(frontCardImg, backCardImg, JSON.stringify(CardInfo));
    });

    $('#month').change(function () {
        setCalendar('day', 'month', 'year');
    });
    $('#year').change(function () {
        setCalendar('day', 'month', 'year');
    });

    $('#month_end').change(function () {
        setCalendar('day_end', 'month_end', 'year_end');
    });
    $('#year_end').change(function () {
        setCalendar('day_end', 'month_end', 'year_end');
    });
    $('#btnCancelEdit').click(function () {
        api.server.LoadListSupervisee();
    });


    $('#leftThumbClearBtn').click(function () {
        api.server.CancelCaptureFingerprint();
        $('#leftFingerprint').attr('src', '../images/leftthumb.png');
        $('#leftThumbClearBtn').attr('disabled', 'disabled');
        $('#leftThumbScanBtn').removeAttr('disabled');
        $('#leftProcessMessage').text('Place left thumb onto scanner').css('color', '#000');

    });
    $('#rightThumbClearBtn').click(function () {
        api.server.CancelCaptureFingerprint();
        $('#rightFingerprint').attr('src', '../images/rightthumb.png');
        $('#rightThumbClearBtn').attr('disabled', 'disabled');
        $('#rightThumbScanBtn').removeAttr('disabled');
        $('#rightProcessMessage').text('Place right thumb onto scanner').css('color', '#000');
    });

    $('#SaveBtn').click(function () {
        $('#Employment_Start_Date').val(setDate('day', 'month', 'year'));
        $('#Employment_End_Date').val(setDate('day_end', 'month_end', 'year_end'));
        var $form = $("#superviseeFrm");
        var data = getFormData($form);
        var json = JSON.stringify(data);
        api.server.SaveSupervisee(json);
        e.preventDefault();

    });

    var myCarousel = $('#createNewSupervisee');

    //$('#createNewSupervisee').on('slid.bs.carousel', function (data) {

    //});

    $('#createNewSupervisee').on('slide.bs.carousel', function (data) {
        //if (data.from == 1) {
        //    if ($('#leftFingerprint').attr('src').indexOf('leftthumb') > 0) {
        //        alert('You need to provide 2 fingerprint.');
        //        //var carouselNavElements = myCarousel.find("a[href=#createNewSupervisee], li[data-target=#createNewSupervisee]");
        //        //carouselNavElements.prop('disabled', true);

        //    }


        //}
        //else
        if (data.to == 2) {
            api.server.loadDataVerify(function (dataRe) {

                var model = dataRe[0];
                CardInfo = dataRe[1];

                $('[name="issueDate"]').text(CardInfo.Date_Of_Issue_Txt);
                $('[name="verifyCardNumber"]').text(CardInfo.CardNumberFull);

                $('[name="verifyCompanyName"]').text(CardInfo.CompanyName);
                $('[name="verifyVenueName"]').text(CardInfo.VenueName);
                $('[name="verifyAddress"]').text(CardInfo.Address);
                $('[name="verifyContactNumber"]').text(CardInfo.ContactNumber);

                $('[name="verifyName"]').text(model.User.Name);
                if (model.UserProfile.DOB != null) {
                    $('[name="verifyDOB"]').text(model.UserProfile.DOBTxt);
                }

                $('[name="verifyNRIC"]').text(model.User.NRIC);
                $('[name="verifyGender"]').text(model.UserProfile.Gender == null ? '' : model.UserProfile.Gender);
                $('[name="verifyNation"]').text(model.UserProfile.Nationality);
                //if (model.UserProfile.DateOfIssue != null) {

                //    $('[name="issueDate"]').text(model.UserProfile.DateOfIssueTxt);
                //    $('[name="issueDateBack"]').text(model.UserProfile.DateOfIssueTxt);
                //}
                //if (model.UserProfile.Expired_Date != null) {
                //    $('[name="expireDate"]').text(model.UserProfile.Expired_DateTxt);
                //}
                $('[name="verifyRace"]').text(model.UserProfile.Race == null ? '' : model.UserProfile.Race);
                frontCardImg = null;
                backCardImg = null;
                JsBarcode('[name="verifyBarcode"]', model.User.NRIC, { background: "transparent", displayValue: false, height: 50, fontSize: 8, width: 2, margin: 0, font: "Arial" });
                html2canvas($('#frontCard'), {
                    onrendered: function (froncanvas) {
                        html2canvas($('#backCard'), {
                            onrendered: function (backcanvas) {

                                frontCardImg = froncanvas.toDataURL("image/png");
                                backCardImg = backcanvas.toDataURL("image/png");
                                showCardImages();
                                //api.server.UpdateSuperviseeBiodata(frontCardImg, backCardImg, JSON.stringify(CardInfo));
                                //$('.actions > ul > li > a[href="#next"]').click();
                            }
                        });
                    }
                });
            });
        } else if (data.to == 3) {
            //if (frontCardImg == null && backCardImg == null) {

            //    return false;
            //}

            //if (frontCardImg == null || backCardImg == null) {
                

            //} else {
            //    //api.loading(false);
                
            //}
            if (frontCardImg == null) {
                frontCardImg = '';
            }
            if (backCardImg == null) {
                backCardImg = '';
            }
            api.server.UpdateSuperviseeBiodata(frontCardImg, backCardImg, JSON.stringify(CardInfo));
        }
        $("input[type='image']").click(function () {
            $("input[id='my_file']").click();
        });
    });


    jQuery(function ($) {

        // Carousel not allow for cycle
        $('.carousel').carousel({
            wrap: false
        })

        carouselControl();

        $('.carousel').on('slid.bs.carousel', function () {
            $('.carousel').find('.carousel-control').show();
            carouselControl();
        })

        function carouselControl() {
            if ($('.carousel-inner .carousel-item:first-child').hasClass('active')) {
                $('.carousel').find('.carousel-control-prev.carousel-control').css('opacity', '0');
                $('.carousel').find('.carousel-control-next.carousel-control').css('opacity', '1');
            }
            else if ($('.carousel-inner .carousel-item:last-child').hasClass('active')) {
                $('.carousel').find('.carousel-control-prev.carousel-control').css('opacity', '1');
                $('.carousel').find('.carousel-control-next.carousel-control').css('opacity', '0');
            }
        }

    });
    var userIDNew = '';
    api.ready(function (model) {
        userIDNew = model.User.UserId;

    });
    function setImg(number, src) {
        image = document.getElementById('image' + number);
        image.src = src;
    }


    $(document).ready(function () {

        $('#leftThumbClearBtn').attr('disabled', 'disabled');
        $('#rightThumbClearBtn').attr('disabled', 'disabled');


    });
    function ActionScanFingerPrint(isRight) {
        if (isRight) {
            $('#leftThumbDiv').find('button').attr('disabled', 'disabled');
        } else {
            $('#rightThumbDiv').find('button').attr('disabled', 'disabled');
        }
        api.server.CaptureFingerPrint(isRight);
    }
    //$('#leftThumbScanBtn').click(function () {
    //    $('#rightThumbDiv').find('button').attr('disabled', 'disabled');
    //    api.server.CaptureFingerPrint(false);

    //});

    //$('#rightThumbScanBtn').click(function () {
    //    $('#leftThumbDiv').find('button').attr('disabled', 'disabled');
    //    api.server.CaptureFingerPrint(true);
    //});

    function enableClearBtnServerCall(isRight) {

        $('#rightThumbClearBtn').removeAttr('disabled');
        $('#leftThumbScanBtn').removeAttr('disabled');
        $('#leftThumbClearBtn').removeAttr('disabled');
        $('#rightThumbScanBtn').removeAttr('disabled');



    }

    function changeMessageServerCall(isRight, message, color) {
        if (isRight) {
            $('#rightProcessMessage').text(message).css('color', color);

        }
        else {
            $('#leftProcessMessage').text(message).css('color', color);
        }
    }

    function setFingerprintImage(isRight, base64String) {
        if (isRight) {
            $('#rightProcessMessage').text(message).css('color', color);

        }
        else {
            $('#leftProcessMessage').text(message).css('color', color);
        }
    }

    function setBase64FingerprintOnloadServerCall(leftFinger, rightFinger) {
        if (leftFinger != "") {
            $('#leftFingerprint').attr('src', 'data:image/png;base64,' + leftFinger);
            $('#verifyLeftFinger').attr('src', 'data:image/png;base64,' + leftFinger);
        }
        if (rightFinger != "") {
            $('#rightFingerprint').attr('src', 'data:image/png;base64,' + rightFinger);
            $('#verifyRightFinger').attr('src', 'data:image/png;base64,' + rightFinger);

        }

    }

    function setAvatar(base64Str1, base64Str2) {
        if (base64Str1 != "") {
            $('#image1').attr('src', 'data:image/jpg;base64,' + base64Str1);
            $('[name="card-avarta"]').attr('src', 'data:image/png;base64,' + base64Str1);
        }
        if (base64Str2 != "") {
            $('#image2').attr('src', 'data:image/jpg;base64,' + base64Str2);
            $('#verifyPhoto2').attr('src', 'data:image/jpg;base64,' + base64Str2);
        }
    }
</script>
<script>

    function LoadSuperviseeDetails() {
        api.server.EditSupervisee(userIDNew);
    }
    //$(function () {

    //    var isUpdated = false;
    //    $("#wizard").steps({
    //        headerTag: "h2",
    //        bodyTag: "section",
    //        transitionEffect: "slideLeft",
    //        loading: "Processing ...",
    //        enableCancelButton: true,

    //        onStepChanging: function (event, currentIndex, newIndex) {


    //            if (newIndex == 2) {
    //                api.server.loadDataVerify(function (dataRe) {

    //                    var model = dataRe[0];
    //                    CardInfo = dataRe[1];

    //                    $('[name="issueDate"]').text(CardInfo.Date_Of_Issue_Txt);
    //                    $('[name="verifyCardNumber"]').text(CardInfo.CardNumberFull);

    //                    $('[name="verifyCompanyName"]').text(CardInfo.CompanyName);
    //                    $('[name="verifyVenueName"]').text(CardInfo.VenueName);
    //                    $('[name="verifyAddress"]').text(CardInfo.Address);
    //                    $('[name="verifyContactNumber"]').text(CardInfo.ContactNumber);

    //                    $('[name="verifyName"]').text(model.User.Name);
    //                    if (model.UserProfile.DOB != null) {
    //                        $('[name="verifyDOB"]').text(model.UserProfile.DOBTxt);
    //                    }

    //                    $('[name="verifyNRIC"]').text(model.User.NRIC);
    //                    $('[name="verifyGender"]').text(model.UserProfile.Gender == null ? '' : model.UserProfile.Gender);
    //                    $('[name="verifyNation"]').text(model.UserProfile.Nationality);

    //                    $('[name="verifyRace"]').text(model.UserProfile.Race == null ? '' : model.UserProfile.Race);
    //                    frontCardImg = null;
    //                    backCardImg = null;
    //                    JsBarcode('[name="verifyBarcode"]', model.User.NRIC, { height: 20, fontSize: 8, width: 1, margin: 0, font: "Arial" });
    //                });
    //            } else if (newIndex == 3) {

    //                if (frontCardImg == null || backCardImg == null) {
    //                    html2canvas($('#frontCard'), {
    //                        onrendered: function (froncanvas) {
    //                            html2canvas($('#backCard'), {
    //                                onrendered: function (backcanvas) {
    //                                    frontCardImg = froncanvas.toDataURL("image/png");
    //                                    backCardImg = backcanvas.toDataURL("image/png");
    //                                    $('.actions > ul > li > a[href="#next"]').click();
    //                                }
    //                            });
    //                        }
    //                    });
    //                    api.loading(true);
    //                    return false;
    //                } else {
    //                    api.loading(false);
    //                }
    //            }
    //            return true;
    //        },
    //        onStepChanged: function (event, currentIndex, priorIndex) {
    //            //0 - photo
    //            //1 - fingerprint
    //            //2 - verify
    //            //3 - print

    //            if (currentIndex == 3) {

    //                if (frontCardImg == null) {
    //                    frontCardImg = '';
    //                }
    //                if (backCardImg == null) {
    //                    backCardImg = '';
    //                }
    //                api.server.UpdateSuperviseeBiodata(frontCardImg, backCardImg, JSON.stringify(CardInfo));
    //            }
    //        },
    //        onFinished: function (event, currentIndex) {
    //            api.server.LoadListSupervisee();
    //        },
    //        onCanceled: function (event) {
    //            api.server.LoadListSupervisee();
    //        }
    //    });



    //    $("input[type='image']").click(function () {
    //        $("input[id='my_file']").click();
    //    });
    //});

    $(document).ready(function () {
        countPrinterSmartCard = 0;
    });

    function showPrintMessage(status, message) {
        if (status != null) {
            if (status) {
                $('#rePrinter').css('display', 'none');
                $('#reCheckSCard').css('display', 'block');
                //$('.actions > ul > li:first-child').attr('style', 'display:none');

            } else {
                $('#rePrinter').css('display', 'block');
                $('#reCheckSCard').css('display', 'none');
                countPrinterSmartCard++;
                if (countPrinterSmartCard >= 3) {
                    alert('Unable to print Smart Card');
                }
            }
        }
        $('#printSuccessMessage').text('');
        var $_message = message;
        $('#printSuccessMessage').append($_message).show();
    }

    function showCardImages() {
        $('[name="frontCardImg"]').attr('src', frontCardImg).css('display','inline-block');
        $('[name="backCardImg"]').attr('src', backCardImg).css('display', 'inline-block');;
    }
    function showMessageFingerprintFalse3() {
        alert('Unable to print Fingerprint');
    }
</script>

<script>
    $(function () {
        $('.s_label').click(function () {
            $(this).next().fadeToggle(200);
        });
        var d = new Date();
        var month = new Array();
        var year = d.getFullYear();
        var years = new Array();
        var days = new Array();

        for (var i = 0; i < 31; i++) {
            days[i] = (i + 1);
        }
        $.each(days, function (key, value) {
            $('#day').append($('<option>', { value: value })
                .text(value));
            $('#day_end').append($('<option>', { value: value })
                .text(value));
        });

        for (var i = 1; i < 13; i++) {
            month[i] = i;
        }

        $.each(month, function (key, value) {
            $('#month').append($('<option>', { value: value })
                .text(value));
            $('#month_end').append($('<option>', { value: value })
                .text(value));
        });
        for (var i = 0; i < 100; i++) {
            years[i] = (year - i);
        }
        $.each(years, function (key, value) {
            $('#year').append($('<option>', { value: value })
                .text(value));
            $('#year_end').append($('<option>', { value: value })
                .text(value));
        });



        if (api.model != null) {
            $('#userId').val(api.model.User.UserId);
            // NextOfKin
            $('#NextOfKin_Name').val(api.model.UserProfile.NextOfKin_Name);
            $('#NextOfKin_Contact_Number').val(api.model.UserProfile.NextOfKin_Contact_Number);
            $('#NextOfKin_Relationship').val(api.model.UserProfile.NextOfKin_Relationship);
            $('#NextOfKin_BlkHouse_Number').val(api.model.UserProfile.NextOfKin_BlkHouse_Number);
            $('#NextOfKin_FlrUnit_Number').val(api.model.UserProfile.NextOfKin_FlrUnit_Number);
            $('#NextOfKin_Street_Name').val(api.model.UserProfile.NextOfKin_Street_Name);
            $('#NextOfKin_Country').val(api.model.UserProfile.NextOfKin_Country);
            $('#NextOfKin_PostalCode').val(api.model.UserProfile.NextOfKin_PostalCode);
            // Employment
            $('#Employment_Name').val(api.model.UserProfile.Employment_Name);
            $('#Employment_Contact_Number').val(api.model.UserProfile.Employment_Contact_Number);
            $('#Employment_Company_Name').val(api.model.UserProfile.Employment_Company_Name);
            $('#Employment_Job_Title').val(api.model.UserProfile.Employment_Job_Title);
            $('#Employment_Start_Date').val(api.model.UserProfile.Employment_Start_Date);
            $('#Employment_End_Date').val(api.model.UserProfile.Employment_End_Date);
            $('#Employment_Remarks').val(api.model.UserProfile.Employment_Remarks);
            // Residential Address
            $('#address_ID').val(api.model.UserProfile.Residential_Addess_ID);
            $('#Street_Name').val(api.model.Addresses.Street_Name);
            $('#BlkHouse_Number').val(api.model.Addresses.BlkHouse_Number);
            $('#FlrUnit_Number').val(api.model.Addresses.FlrUnit_Number);
            $('#Country').val(api.model.Addresses.Country);
            $('#Postal_Code').val(api.model.Addresses.Postal_Code);
            // Other Address
            $('#Other_Address_ID').val(api.model.UserProfile.Other_Address_ID);
            $('#OStreet_Name').val(api.model.OtherAddress.Street_Name);
            $('#OBlkHouse_Number').val(api.model.OtherAddress.BlkHouse_Number);
            $('#OFlrUnit_Number').val(api.model.OtherAddress.FlrUnit_Number);
            $('#OCountry').val(api.model.OtherAddress.Country);
            $('#OPostal_Code').val(api.model.OtherAddress.Postal_Code);
            // photo
            $('#User_Photo1').val(api.model.UserProfile.User_Photo1);
            $('#User_Photo2').val(api.model.UserProfile.User_Photo2);

            var startYear = $('#Employment_Start_Date').val().trim() != "" ? new Date($('#Employment_Start_Date').val()) : null;
            var endYear = $('#Employment_End_Date').val().trim() != "" ? new Date($('#Employment_End_Date').val()) : null;

            if (startYear != null) {
                $('#year').val(startYear.getFullYear());
                $('#month').val(startYear.getMonth() + 1); //January is 0
                $('#day').val(startYear.getDate());

            }

            if (endYear != null) {

                $('#year_end').val(endYear.getFullYear());
                $('#month_end').val(endYear.getMonth() + 1); //January is 0
                $('#day_end').val(endYear.getDate());

            }

        }





    });

    function setDate(day_Id, month_Id, year_Id) {
        var _day = $('#' + day_Id + '').val().trim();
        var _month = $('#' + month_Id + '').val().trim();
        var _year = $('#' + year_Id + '').val().trim();
        if (_day != "" && _day != "DD" && _month != "" && _month != "MM" && _year != "" && _year != "YYYY") {
            return _year + "-" + _month + "-" + _day;
        }
        else {
            return null;
        }
    }
    function setCalendar(day_Id, month_Id, year_Id) {
        var _month = $('#' + month_Id + '').val();
        var _year = $('#' + year_Id + '').val();

        var _daysInMonth = daysInMonth(_month, _year);

        $('#' + day_Id + '').find('option').remove();
        var days = new Array();

        for (var i = 0; i < 31; i++) {
            days[i] = (i + 1);
        }
        $.each(days, function (key, value) {
            if (value <= _daysInMonth) {
                $('#' + day_Id + '').append($('<option>', { value: value })
                    .text(value));
            }

        });
    }

    function daysInMonth(month, year) { // Use 1 for January, 2 for February, etc.
        return new Date(year, month, 0).getDate();
    }

    function getFormData($form) {
        var unindexed_array = $form.serializeArray();
        var indexed_array = {};

        $.map(unindexed_array, function (n, i) {
            indexed_array[n['name']] = n['value'];
        });

        return indexed_array;
    }
    //function setPopUpPhotoServerCall(photo1, photo2) {
    //    $('#PopupUserPhoto1').css('background-image', 'url(data:image/jpg;base64,' + photo1 + ')');
    //    $('#PopupUserPhoto2').css('background-image', 'url(data:image/jpg;base64,' + photo2 + ')');
    //}
    function setFingerprintServerCall(finger1, finger2) {
        $('#LeftThumbFingerprint').attr('src', finger1);
        $('#RightThumbFingerprint').attr('src', finger2);
    }

    function saveNewDataToSession() {
        var $form = $("#superviseeFrm");
        var data = getFormData($form);
        var json = JSON.stringify(data);
        api.server.saveNewDataToSession(json);
    }

    /*$("#SaveBtn").on('click', function () {
        var $form = $("#superviseeFrm");
        var data = getFormData($form);
        var json = JSON.stringify(data);
        //api.server.SaveSupervisee(json);
    });*/
    //$("#superviseeFrm").submit(function(e){

    //	e.preventDefault();
    //});

    /*$('#SaveBtn').click(function () {
        var $form = $("#superviseeFrm");
        var data = getFormData($form);
        var json = JSON.stringify(data);
        api.server.SaveSupervisee(json, true);
    });*/

    $("#updatePhotos").click(function () {
        showPopUp("pageUpdatePhotos");
    });
    $("#Close_popup").click(function () {
        hidePopUp();
    })
    //function showPopUp(elem_id) {
    //    saveNewDataToSession();
    //    $("#" + elem_id).show();
    //}
    //function hidePopUp() {
    //    api.server.ReplaceOldPhotos();
    //    $("#pageUpdatePhotos").hide();
    //}
    jQuery(function ($) {
        var modal_lv = 0;
        $('.modal').on('shown.bs.modal', function (e) {
            a = $('.modal-backdrop:last').css('zIndex', 1051 + modal_lv); console.log(a);
            b = $(e.currentTarget).css('zIndex', 1052 + modal_lv); console.log(b);
            modal_lv++
        });

        $('.modal').on('hidden.bs.modal', function (e) {
            modal_lv--
        });
    });

</script>